name: Terraform plan
on:
  push:
    branches:
      - main

jobs:
  Terraform_plan:
    uses: mahadikbs/reusable-workflows/.github/workflows/terraform-plan.yaml@main      
    with:
      environment: test
      runner: ubuntu-latest
      TF_VAR_DOCKER_USERNAME: ${{ secrets.DOCKER_USERNAME }}
      TF_VAR_DOCKER_PASSWORD: ${{ secrets.DOCKER_PASSWORD }} 
            
    secrets: 
      AWS_ACCESS_KEY_ID: ${{secrets.AWS_ACCESS_KEY_ID}}  
      AWS_SECRET_ACCESS_KEY: ${{secrets.AWS_SECRET_ACCESS_KEY}}
      SSH_PRIVATE_KEY: ${{secrets.SSH_PRIVATE_KEY}}
      SSH_PUBLIC_KEY: ${{secrets.SSH_PUBLIC_KEY}}
      TF_VAR_DOCKER_USERNAME: ${{ secrets.DOCKER_USERNAME }}
      TF_VAR_DOCKER_PASSWORD: ${{ secrets.DOCKER_PASSWORD }} 
